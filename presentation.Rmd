---
title: "Prison Demographics"
subtitle: "Crime Rates & Incarceration"
author: "LAJ <br> Luke Hardwick, Adam Smit, Jess Part"
institute: "University of Edinburgh"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      
---

```{r install-package, include = FALSE, eval = FALSE}
# Copy and paste the following code into your console to download and install
# the `xaringan` package that contains all of the code which allows you 
# to create presentation slides in Rmarkdown
install.packages('xaringan')
```


```{r load-packages, include = FALSE}
# Add any additional packages you need to this chunk
library(tidyverse)
library(tidymodels)
library(palmerpenguins)
library(knitr)
library(xaringanthemer)
```

```{r setup, include=FALSE}
# For better figure resolution
knitr::opts_chunk$set(fig.retina = 3, dpi = 300, fig.width = 6, fig.asp = 0.618, out.width = "80%")
```

```{r load-data, include=FALSE}
# Load your data here

PunishmentsQ12023 <- read.csv("data/CSV/PunishmentsQ12023.csv")

Punishmentsminusna <- PunishmentsQ12023 %>% filter(No_of_days != ".")
Punishmentscellconfine <- Punishmentsminusna %>% filter(Punishment == "Cellular Confinement")
Punishmentsnumeric <- Punishmentscellconfine %>% mutate(No_of_days = as.numeric(No_of_days))

solitaryage <- Punishmentsnumeric %>% 
  group_by(Age_group) %>%
  summarise(
    mean_days_in_solitary = mean(No_of_days)
  )

categoryareligion <- data.frame(religion = 
  c("Muslim", "No religion", "Christian", "Other religious groups", "Buddhist", "Jewish", "Sikh", "Hindu", "Not recorded"),
percentage = c(8.563744, 4.101825, 5.171328, 5.037783, 5.015198, 8.219178, 5.633803, 2.941176, 0))

categoryasex <- data.frame(sex = 
  c("Male", "Female"),
percentage = c(5.989141, 0))

```

```{r include=FALSE}

#Background image
style_xaringan(
  title_slide_background_image = ("img/Black-Brick-Wall-Background-dark.jpg")
)
```

class: center, middle

<<<<<<< HEAD
## We pose the question of what demographic factors lead to individuals committing crime and how these factors can influence sentencing
=======
## We pose the question of what demographic factors lead to individuals committing crime and how demographics can influence the experience of people when incarcerated

---

```{r prison, echo = FALSE, out.width = "70%", fig.align = "left", fig.cap = "Belmarsh Prison"}
include_graphics("img/Roche-Belmarsh-Prison.jpg")
```
>>>>>>> da4f625263b36eb1be7d395f52f0975bd413b561

---

class: inverse, center, middle

# How do demographics and regional incomes influence crime rates?

---

---

class: inverse, center, middle

# What demographic factors contribute to the experience of inmates?

---

---

<<<<<<< HEAD
class: inverse, center, middle

# Which factors have the greatest influence in crime and sentencing?

---

# Sentencing and how it is affected by a potential criminals demographics

- The prison inmate disparities respective to the United states are widely publicised and well known. Especially their biased statistic of having a majority African american comprised population of inmates.

- I decided to investigate these demographics within the prison system to see if they were reflected within our own prison system. 

- I decided to focus on how already convicted inmates were treated so the dataset I used was one of internal punishments in prisons. e.g. loss of privileges, solitary confinement, warning.


---

# the dataset

- the variables that I was particularly interested in were: sex, religion, ethnicity, punishment and punishment length.  

- contains all the internal punishments for all prisons within England and Wales in the year 2021.

- most interested in relationships able to be identified purely visually.

- abstract statistical concepts can't be understood by majority of the population.


---

# solitary confinement lengths

```{r solitary-age, echo = FALSE}

ggplot(data = solitaryage, mapping = aes(y = Age_group, x = mean_days_in_solitary)) +
  geom_bar(stat = "identity") +
  labs (
    y = "age",
    x = "average days in solitary",
    title = "average time an age group spends in solitary",
    subtitle = 
      "The average amount of time each age group spends in solitary when sentenced to it as punishment whilst already incarcerated"
  )

```


---

#classification of high risk inmates

- all inmates are objectively classified on their risk to the public and their potential risk to other inmates

```{r highriskreligion, echo = FALSE}
ggplot(data = categoryareligion, mapping = aes(y = religion, x = percentage)) +
  geom_bar(stat = "identity") +
  labs (
    y = "Religion",
    x = "proportion of people in high security establishments (%)",
    title = "percentage of Religions considered to be high security risks",
  )
```

---
# high risk inmates part 2

```{r highrisksex, echo = FALSE}
ggplot(data = categoryasex, mapping = aes(y = sex, x = percentage)) +
  geom_bar(stat = "identity") +
  labs (
    y = "Sex",
    x = "proportion of people in high security establishments (%)",
    title = "percentage of Religions considered to be high security risks",
  )

```

---

#analysis 

- all variables i.e. sex, ethnicity and religion all had their areas of bias



---

# Layouts

You can use plain text

- or bullet points

.pull-left[
or text in two columns $^*$
]
.pull-right[
- like
- this
]

.footnote[
[*] And add footnotes
]

---

# Code

```{r boring-regression}
# a boring regression
model <- lm(dist ~ speed, data = cars)
tidy(model)
glance(model)
```

---

# Plots

```{r recode-species, echo = FALSE}
# In this chunk I'm doing a bunch of analysis that I don't want to present 
# in my slides. But I need the resulting data frame for a plot I want to present.
iris_modified <- iris %>%
  mutate(Species = fct_other(Species, keep = "setosa"))
```

```{r plot-iris, echo = FALSE}
# Code hidden with echo = FALSE
# Uses modified iris dataset from previous chunk
# Play around with height and width until you're happy with the look
ggplot(data = iris_modified, mapping = aes(x = Sepal.Width, y = Sepal.Length, color = Species)) +
  geom_point() + 
  theme_minimal() # theme options: https://ggplot2.tidyverse.org/reference/ggtheme.html
```

---

## Plot and text

.pull-left[
- Some text
- goes here
]
.pull-right[
```{r warning=FALSE, out.width="100%", fig.width=4, echo=FALSE}
# see how I changed out.width and fig.width from defaults
# to make the figure bigger
ggplot(penguins, aes(x = bill_length_mm, y = species, color = species)) +
  geom_boxplot() +
  theme_minimal()
```
]

---

# Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,

```{r iris-table, echo = FALSE}
kable(head(iris), format = "html")
```

---

# Images

```{r castle, echo = FALSE, out.width = "55%", fig.align = "center", fig.cap = "Image credit: Photo by JÃ¶rg Angeli on Unsplash."}
include_graphics("img/edinburgh-castle.jpg")
```

Or you can also include a full page image. See next slide.

---


class: inverse, center, middle
background-image: url(img/edinburgh-castle.jpg)
background-size: contain
---

# Math Expressions

You can write LaTeX math expressions inside a pair of dollar signs, e.g. &#36;\alpha+\beta$ renders $\alpha+\beta$. You can use the display style with double dollar signs:

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$

Limitations:

1. The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

1. There should not be spaces after the opening `$` or before the closing `$`.

1. Math does not work on the title slide (see [#61](https://github.com/yihui/xaringan/issues/61) for a workaround).

---

# Feeling adventurous?

- Want to find out more about `xaringan`? See https://slides.yihui.name/xaringan/#1.

- You are welcome to use the default styling of the slides. In fact, that's what I expect majority of you will do. You will differentiate yourself with the content of your presentation.

- But some of you might want to play around with slide styling. The 
`xaringanthemer` provides some solutions for this that: https://pkg.garrickadenbuie.com/xaringanthemer.

- And if you want more bells and whistles, there is also `xaringanExtra`: https://pkg.garrickadenbuie.com/xaringanExtra.
